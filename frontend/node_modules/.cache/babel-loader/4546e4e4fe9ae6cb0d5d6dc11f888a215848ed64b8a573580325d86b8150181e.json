{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import Navbar from'./Navbar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MyRSVPs=()=>{const[rsvps,setRsvps]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(!token)return navigate('/login');axios.get('http://127.0.0.1:8000/api/v1/attendance/',{headers:{Authorization:\"Token \".concat(token)}}).then(res=>{setRsvps(res.data);setLoading(false);}).catch(err=>{console.error(err);setLoading(false);});},[navigate]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:\"Loading your RSVPs...\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-primary\",children:\"My RSVPs\"}),rsvps.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"You haven\\u2019t RSVP\\u2019d to any events yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Event Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Start Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"End Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Location\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:rsvps.map((rsvp,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:rsvp.event.title}),/*#__PURE__*/_jsx(\"td\",{children:rsvp.event.description}),/*#__PURE__*/_jsx(\"td\",{children:new Date(rsvp.event.start_date).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:new Date(rsvp.event.end_date).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:rsvp.event.location})]},index))})]})})]})]});};export default MyRSVPs;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyRSVPs","rsvps","setRsvps","loading","setLoading","navigate","token","localStorage","getItem","get","headers","Authorization","concat","then","res","data","catch","err","console","error","className","children","length","map","rsvp","index","event","title","description","Date","start_date","toLocaleString","end_date","location"],"sources":["C:/Users/ruya/event-management-platform/frontend/src/components/MyRSVPs.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Navbar from './Navbar';\r\n\r\n\r\nconst MyRSVPs = () => {\r\n  const [rsvps, setRsvps] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) return navigate('/login');\r\n\r\n    axios.get('http://127.0.0.1:8000/api/v1/attendance/', {\r\n      headers: {\r\n        Authorization: `Token ${token}`,\r\n      },\r\n    })\r\n    .then(res => {\r\n      setRsvps(res.data);\r\n      setLoading(false);\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      setLoading(false);\r\n    });\r\n  }, [navigate]);\r\n\r\n  if (loading) return <div className=\"text-center mt-5\">Loading your RSVPs...</div>;\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container py-5\">\r\n        <h2 className=\"mb-4 text-primary\">My RSVPs</h2>\r\n        {rsvps.length === 0 ? (\r\n          <div className=\"alert alert-info\">You haven’t RSVP’d to any events yet.</div>\r\n        ) : (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover\">\r\n              <thead className=\"table-light\">\r\n                <tr>\r\n                  <th>Event Title</th>\r\n                  <th>Description</th>\r\n                  <th>Start Date</th>\r\n                  <th>End Date</th>\r\n                  <th>Location</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {rsvps.map((rsvp, index) => (\r\n                  <tr key={index}>\r\n                    <td>{rsvp.event.title}</td>\r\n                    <td>{rsvp.event.description}</td>\r\n                    <td>{new Date(rsvp.event.start_date).toLocaleString()}</td>\r\n                    <td>{new Date(rsvp.event.end_date).toLocaleString()}</td>\r\n                    <td>{rsvp.event.location}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyRSVPs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}