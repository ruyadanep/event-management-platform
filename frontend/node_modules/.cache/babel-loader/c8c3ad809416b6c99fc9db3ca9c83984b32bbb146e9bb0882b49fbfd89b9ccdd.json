{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruya\\\\event-management-platform\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Navbar from '../components/Navbar';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [error, setError] = useState('');\n  const [rsvpStatus, setRsvpStatus] = useState({}); // track RSVP per event\n  const [toast, setToast] = useState({\n    visible: false,\n    message: '',\n    variant: ''\n  });\n  const token = localStorage.getItem('token');\n  useEffect(() => {\n    const fetchEvents = async () => {\n      try {\n        const res = await axios.get('/api/v1/events/', {\n          headers: {\n            Authorization: `Token ${token}`\n          }\n        });\n        setEvents(res.data);\n      } catch {\n        setError('Failed to load events. Please ensure you are logged in.');\n      }\n    };\n    fetchEvents();\n  }, [token]);\n  const handleRSVP = async eventId => {\n    try {\n      await axios.post('/api/v1/attendance/', {\n        event: eventId\n      }, {\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      });\n      setRsvpStatus(prev => ({\n        ...prev,\n        [eventId]: true\n      }));\n      setToast({\n        visible: true,\n        message: '🎉 RSVP successful!',\n        variant: 'success'\n      });\n    } catch {\n      setToast({\n        visible: true,\n        message: '⚠️ RSVP failed. Try again later.',\n        variant: 'danger'\n      });\n    }\n  };\n  const closeToast = () => {\n    setToast({\n      visible: false,\n      message: '',\n      variant: ''\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `toast align-items-center text-white bg-${toast.variant} border-0 position-fixed`,\n      role: \"alert\",\n      style: {\n        top: '1rem',\n        right: '1rem',\n        display: toast.visible ? 'flex' : 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toast-body\",\n          children: toast.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-close btn-close-white me-2 m-auto\",\n          \"aria-label\": \"Close\",\n          onClick: closeToast\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-4 text-center\",\n        style: {\n          color: '#4B0082'\n        },\n        children: \"Welcome to Your Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger text-center\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [events.map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 col-lg-4 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card shadow h-100 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title\",\n                style: {\n                  color: '#4B0082'\n                },\n                children: event.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text text-muted\",\n                children: event.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge bg-secondary mb-2 d-block\",\n                children: [event.start_time, \" \\u2192 \", event.end_time]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-sm text-white\",\n                style: {\n                  backgroundColor: '#FF6F61'\n                },\n                onClick: () => handleRSVP(event.id),\n                disabled: !!rsvpStatus[event.id],\n                children: rsvpStatus[event.id] ? 'RSVPed' : 'RSVP'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)\n        }, event.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)), !events.length && !error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-muted\",\n          children: \"No events available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Dashboard, \"HWIs6URvZlY/z1ahOD659kaMYm0=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","Navbar","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","events","setEvents","error","setError","rsvpStatus","setRsvpStatus","toast","setToast","visible","message","variant","token","localStorage","getItem","fetchEvents","res","get","headers","Authorization","data","handleRSVP","eventId","post","event","prev","closeToast","children","fileName","_jsxFileName","lineNumber","columnNumber","className","role","style","top","right","display","type","onClick","color","map","title","description","start_time","end_time","backgroundColor","id","disabled","length","_c","$RefreshReg$"],"sources":["C:/Users/ruya/event-management-platform/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from '../components/Navbar';\r\n\r\nconst Dashboard = () => {\r\n  const [events, setEvents] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [rsvpStatus, setRsvpStatus] = useState({}); // track RSVP per event\r\n  const [toast, setToast] = useState({ visible: false, message: '', variant: '' });\r\n  const token = localStorage.getItem('token');\r\n\r\n  useEffect(() => {\r\n    const fetchEvents = async () => {\r\n      try {\r\n        const res = await axios.get('/api/v1/events/', {\r\n          headers: { Authorization: `Token ${token}` },\r\n        });\r\n        setEvents(res.data);\r\n      } catch {\r\n        setError('Failed to load events. Please ensure you are logged in.');\r\n      }\r\n    };\r\n    fetchEvents();\r\n  }, [token]);\r\n\r\n  const handleRSVP = async (eventId) => {\r\n    try {\r\n      await axios.post(\r\n        '/api/v1/attendance/',\r\n        { event: eventId },\r\n        { headers: { Authorization: `Token ${token}` } }\r\n      );\r\n      setRsvpStatus((prev) => ({ ...prev, [eventId]: true }));\r\n      setToast({ visible: true, message: '🎉 RSVP successful!', variant: 'success' });\r\n    } catch {\r\n      setToast({ visible: true, message: '⚠️ RSVP failed. Try again later.', variant: 'danger' });\r\n    }\r\n  };\r\n\r\n  const closeToast = () => {\r\n    setToast({ visible: false, message: '', variant: '' });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n\r\n      {/* Toast Notification */}\r\n      <div\r\n        className={`toast align-items-center text-white bg-${toast.variant} border-0 position-fixed`}\r\n        role=\"alert\"\r\n        style={{ top: '1rem', right: '1rem', display: toast.visible ? 'flex' : 'none' }}\r\n      >\r\n        <div className=\"d-flex\">\r\n          <div className=\"toast-body\">{toast.message}</div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-close btn-close-white me-2 m-auto\"\r\n            aria-label=\"Close\"\r\n            onClick={closeToast}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container py-4\">\r\n        <h2 className=\"mb-4 text-center\" style={{ color: '#4B0082' }}>\r\n          Welcome to Your Dashboard\r\n        </h2>\r\n        {error && <p className=\"text-danger text-center\">{error}</p>}\r\n\r\n        <div className=\"row\">\r\n          {events.map((event) => (\r\n            <div className=\"col-md-6 col-lg-4 mb-4\" key={event.id}>\r\n              <div className=\"card shadow h-100 border-0\">\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\" style={{ color: '#4B0082' }}>\r\n                    {event.title}\r\n                  </h5>\r\n                  <p className=\"card-text text-muted\">{event.description}</p>\r\n                  <span className=\"badge bg-secondary mb-2 d-block\">\r\n                    {event.start_time} → {event.end_time}\r\n                  </span>\r\n                  <button\r\n                    className=\"btn btn-sm text-white\"\r\n                    style={{ backgroundColor: '#FF6F61' }}\r\n                    onClick={() => handleRSVP(event.id)}\r\n                    disabled={!!rsvpStatus[event.id]}\r\n                  >\r\n                    {rsvpStatus[event.id] ? 'RSVPed' : 'RSVP'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {!events.length && !error && (\r\n            <p className=\"text-center text-muted\">No events available.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1C,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACa,UAAU,EAAEC,aAAa,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,OAAO,EAAE,KAAK;IAAEC,OAAO,EAAE,EAAE;IAAEC,OAAO,EAAE;EAAG,CAAC,CAAC;EAChF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3CvB,SAAS,CAAC,MAAM;IACd,MAAMwB,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMvB,KAAK,CAACwB,GAAG,CAAC,iBAAiB,EAAE;UAC7CC,OAAO,EAAE;YAAEC,aAAa,EAAE,SAASP,KAAK;UAAG;QAC7C,CAAC,CAAC;QACFV,SAAS,CAACc,GAAG,CAACI,IAAI,CAAC;MACrB,CAAC,CAAC,MAAM;QACNhB,QAAQ,CAAC,yDAAyD,CAAC;MACrE;IACF,CAAC;IACDW,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACH,KAAK,CAAC,CAAC;EAEX,MAAMS,UAAU,GAAG,MAAOC,OAAO,IAAK;IACpC,IAAI;MACF,MAAM7B,KAAK,CAAC8B,IAAI,CACd,qBAAqB,EACrB;QAAEC,KAAK,EAAEF;MAAQ,CAAC,EAClB;QAAEJ,OAAO,EAAE;UAAEC,aAAa,EAAE,SAASP,KAAK;QAAG;MAAE,CACjD,CAAC;MACDN,aAAa,CAAEmB,IAAI,KAAM;QAAE,GAAGA,IAAI;QAAE,CAACH,OAAO,GAAG;MAAK,CAAC,CAAC,CAAC;MACvDd,QAAQ,CAAC;QAAEC,OAAO,EAAE,IAAI;QAAEC,OAAO,EAAE,qBAAqB;QAAEC,OAAO,EAAE;MAAU,CAAC,CAAC;IACjF,CAAC,CAAC,MAAM;MACNH,QAAQ,CAAC;QAAEC,OAAO,EAAE,IAAI;QAAEC,OAAO,EAAE,kCAAkC;QAAEC,OAAO,EAAE;MAAS,CAAC,CAAC;IAC7F;EACF,CAAC;EAED,MAAMe,UAAU,GAAGA,CAAA,KAAM;IACvBlB,QAAQ,CAAC;MAAEC,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAC,CAAC;EACxD,CAAC;EAED,oBACEf,OAAA,CAAAE,SAAA;IAAA6B,QAAA,gBACE/B,OAAA,CAACF,MAAM;MAAAkC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAGVnC,OAAA;MACEoC,SAAS,EAAE,0CAA0CzB,KAAK,CAACI,OAAO,0BAA2B;MAC7FsB,IAAI,EAAC,OAAO;MACZC,KAAK,EAAE;QAAEC,GAAG,EAAE,MAAM;QAAEC,KAAK,EAAE,MAAM;QAAEC,OAAO,EAAE9B,KAAK,CAACE,OAAO,GAAG,MAAM,GAAG;MAAO,CAAE;MAAAkB,QAAA,eAEhF/B,OAAA;QAAKoC,SAAS,EAAC,QAAQ;QAAAL,QAAA,gBACrB/B,OAAA;UAAKoC,SAAS,EAAC,YAAY;UAAAL,QAAA,EAAEpB,KAAK,CAACG;QAAO;UAAAkB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjDnC,OAAA;UACE0C,IAAI,EAAC,QAAQ;UACbN,SAAS,EAAC,uCAAuC;UACjD,cAAW,OAAO;UAClBO,OAAO,EAAEb;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENnC,OAAA;MAAKoC,SAAS,EAAC,gBAAgB;MAAAL,QAAA,gBAC7B/B,OAAA;QAAIoC,SAAS,EAAC,kBAAkB;QAACE,KAAK,EAAE;UAAEM,KAAK,EAAE;QAAU,CAAE;QAAAb,QAAA,EAAC;MAE9D;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACJ5B,KAAK,iBAAIP,OAAA;QAAGoC,SAAS,EAAC,yBAAyB;QAAAL,QAAA,EAAExB;MAAK;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAE5DnC,OAAA;QAAKoC,SAAS,EAAC,KAAK;QAAAL,QAAA,GACjB1B,MAAM,CAACwC,GAAG,CAAEjB,KAAK,iBAChB5B,OAAA;UAAKoC,SAAS,EAAC,wBAAwB;UAAAL,QAAA,eACrC/B,OAAA;YAAKoC,SAAS,EAAC,4BAA4B;YAAAL,QAAA,eACzC/B,OAAA;cAAKoC,SAAS,EAAC,WAAW;cAAAL,QAAA,gBACxB/B,OAAA;gBAAIoC,SAAS,EAAC,YAAY;gBAACE,KAAK,EAAE;kBAAEM,KAAK,EAAE;gBAAU,CAAE;gBAAAb,QAAA,EACpDH,KAAK,CAACkB;cAAK;gBAAAd,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACV,CAAC,eACLnC,OAAA;gBAAGoC,SAAS,EAAC,sBAAsB;gBAAAL,QAAA,EAAEH,KAAK,CAACmB;cAAW;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3DnC,OAAA;gBAAMoC,SAAS,EAAC,iCAAiC;gBAAAL,QAAA,GAC9CH,KAAK,CAACoB,UAAU,EAAC,UAAG,EAACpB,KAAK,CAACqB,QAAQ;cAAA;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChC,CAAC,eACPnC,OAAA;gBACEoC,SAAS,EAAC,uBAAuB;gBACjCE,KAAK,EAAE;kBAAEY,eAAe,EAAE;gBAAU,CAAE;gBACtCP,OAAO,EAAEA,CAAA,KAAMlB,UAAU,CAACG,KAAK,CAACuB,EAAE,CAAE;gBACpCC,QAAQ,EAAE,CAAC,CAAC3C,UAAU,CAACmB,KAAK,CAACuB,EAAE,CAAE;gBAAApB,QAAA,EAEhCtB,UAAU,CAACmB,KAAK,CAACuB,EAAE,CAAC,GAAG,QAAQ,GAAG;cAAM;gBAAAnB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC,GAnBqCP,KAAK,CAACuB,EAAE;UAAAnB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAoBhD,CACN,CAAC,EACD,CAAC9B,MAAM,CAACgD,MAAM,IAAI,CAAC9C,KAAK,iBACvBP,OAAA;UAAGoC,SAAS,EAAC,wBAAwB;UAAAL,QAAA,EAAC;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAC9D;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA,eACN,CAAC;AAEP,CAAC;AAAC/B,EAAA,CAjGID,SAAS;AAAAmD,EAAA,GAATnD,SAAS;AAmGf,eAAeA,SAAS;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}